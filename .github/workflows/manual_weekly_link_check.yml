name: Weekly Link Check
on:
  schedule:
    - cron: '0 6 * * 5'

jobs:
  checkwww:
    name: Check for Broken Links on main
    runs-on: ubuntu-latest
    steps:
      - name: Check for Broken Links on www
        id: link-report main
        uses: docker://ghcr.io/threefoldfoundation/website-link-checker:latest
        with:
          args: 'https://manual.grid.tf -e 404 501 503 504 -w all'

  checkwww2:
    name: Check for Broken Links on dev
    runs-on: ubuntu-latest
    steps:
      - name: Check for Broken Links
        id: link-report dev
        uses: docker://ghcr.io/threefoldfoundation/website-link-checker:latest
        with:
          args: 'https://manual.dev.grid.tf -e 404 501 503 504 -w all'
        
  checkwww3:
    name: Check for Broken Links on www3
    runs-on: ubuntu-latest
    steps:
      - name: Check for Broken Links
        id: link-report www3
        uses: docker://ghcr.io/threefoldfoundation/website-link-checker:latest
        with:
          args: 'https://www3.manual.grid.tf -e 404 501 503 504 -w all'