<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>3node DIY Rack Server</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../getstarted/grid3_howitworks.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../../getstarted/tfgrid3_getstarted.html"><strong aria-hidden="true">2.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../getstarted/TF_Connect/TF_Connect.html"><strong aria-hidden="true">2.1.</strong> Threefold Connect</a></li><li class="chapter-item expanded "><a href="../../getstarted/TF_Token/TF_Token.html"><strong aria-hidden="true">2.2.</strong> Threefold Token</a></li><li class="chapter-item expanded "><a href="../../getstarted/TF_Dashboard/TF_Dashboard.html"><strong aria-hidden="true">2.3.</strong> Threefold Dashboard</a></li><li class="chapter-item expanded "><a href="../../dashboard/explorer/explorer_find_capacity.html"><strong aria-hidden="true">2.4.</strong> Tutorial: Find Node</a></li><li class="chapter-item expanded "><a href="../../weblets/weblets_vm.html"><strong aria-hidden="true">2.5.</strong> Tutorial: Deploy Your First VM</a></li></ol></li><li class="chapter-item expanded "><a href="../../terraform/terraform_readme.html"><strong aria-hidden="true">3.</strong> Terraform</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../terraform/terraform_install.html"><strong aria-hidden="true">3.1.</strong> Installing Terraform</a></li><li class="chapter-item expanded "><a href="../../terraform/terraform_basics.html"><strong aria-hidden="true">3.2.</strong> Terraform Basics</a></li><li class="chapter-item expanded "><a href="../../terraform/terraform_get_started.html"><strong aria-hidden="true">3.3.</strong> Tutorial</a></li><li class="chapter-item expanded "><a href="../../terraform/terraform_delete.html"><strong aria-hidden="true">3.4.</strong> Delete</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.5.</strong> Resources</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../terraform/resources/terraform_vm.html"><strong aria-hidden="true">3.5.1.</strong> Virtual Machine</a></li><li class="chapter-item expanded "><a href="../../terraform/resources/terraform_vm_gateway.html"><strong aria-hidden="true">3.5.2.</strong> Web Gateway</a></li><li class="chapter-item expanded "><a href="../../terraform/resources/terraform_k8s.html"><strong aria-hidden="true">3.5.3.</strong> Kubernetes cluster</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../terraform/resources/terraform_k8s_demo.html"><strong aria-hidden="true">3.5.3.1.</strong> Demo</a></li></ol></li><li class="chapter-item expanded "><a href="../../terraform/resources/terraform_zdb.html"><strong aria-hidden="true">3.5.4.</strong> ZDB</a></li><li class="chapter-item expanded "><a href="../../terraform/resources/terraform_qsfs.html"><strong aria-hidden="true">3.5.5.</strong> Quantum Filesystem</a></li><li class="chapter-item expanded "><a href="../../terraform/resources/terraform_caprover.html"><strong aria-hidden="true">3.5.6.</strong> CapRover</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.6.</strong> Advanced</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../terraform/advanced/terraform_provider.html"><strong aria-hidden="true">3.6.1.</strong> Terraform Provider</a></li><li class="chapter-item expanded "><a href="../../terraform/advanced/terraform_provisioners.html"><strong aria-hidden="true">3.6.2.</strong> Terraform Provisioners</a></li><li class="chapter-item expanded "><a href="../../terraform/advanced/terraform_mounts.html"><strong aria-hidden="true">3.6.3.</strong> Mounts</a></li><li class="chapter-item expanded "><a href="../../terraform/advanced/terraform_capacity_planning.html"><strong aria-hidden="true">3.6.4.</strong> Capacity planning</a></li><li class="chapter-item expanded "><a href="../../terraform/advanced/terraform_updates.html"><strong aria-hidden="true">3.6.5.</strong> Updates</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../javascript/grid3_javascript_readme.html"><strong aria-hidden="true">4.</strong> Javascript Client</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../javascript/grid3_javascript_installation.html"><strong aria-hidden="true">4.1.</strong> Installation</a></li><li class="chapter-item expanded "><a href="../../javascript/grid3_javascript_loadclient.html"><strong aria-hidden="true">4.2.</strong> Loading client</a></li><li class="chapter-item expanded "><a href="../../javascript/grid3_javascript_vm.html"><strong aria-hidden="true">4.3.</strong> Deploy a VM</a></li><li class="chapter-item expanded "><a href="../../javascript/grid3_javascript_capacity_planning.html"><strong aria-hidden="true">4.4.</strong> Capacity planning</a></li><li class="chapter-item expanded "><a href="../../javascript/grid3_javascript_vms.html"><strong aria-hidden="true">4.5.</strong> Deploy multiple VMs</a></li><li class="chapter-item expanded "><a href="../../javascript/grid3_javascript_caprover.html"><strong aria-hidden="true">4.6.</strong> Deploy CapRover</a></li><li class="chapter-item expanded "><a href="../../javascript/grid3_javascript_vm_gateways.html"><strong aria-hidden="true">4.7.</strong> Gateways</a></li><li class="chapter-item expanded "><a href="../../javascript/grid3_javascript_kubernetes.html"><strong aria-hidden="true">4.8.</strong> Deploy a Kubernetes cluster</a></li><li class="chapter-item expanded "><a href="../../javascript/grid3_javascript_zdb.html"><strong aria-hidden="true">4.9.</strong> Deploy a ZDB</a></li><li class="chapter-item expanded "><a href="../../javascript/grid3_javascript_qsfs.html"><strong aria-hidden="true">4.10.</strong> QSFS</a></li><li class="chapter-item expanded "><a href="../../javascript/grid3_javascript_kvstore.html"><strong aria-hidden="true">4.11.</strong> Key Value Store</a></li></ol></li><li class="chapter-item expanded "><a href="../../weblets/weblets_home.html"><strong aria-hidden="true">5.</strong> Weblets</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../weblets/weblets_profile_manager.html"><strong aria-hidden="true">5.1.</strong> Profile Manager</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../weblets/profile_manager_unlock.html"><strong aria-hidden="true">5.1.1.</strong> Profile Manager Unlock</a></li></ol></li><li class="chapter-item expanded "><a href="../../weblets/weblets_deployments_list.html"><strong aria-hidden="true">5.2.</strong> Deployments List</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.3.</strong> Basic Environments</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../weblets/weblets_vm.html"><strong aria-hidden="true">5.3.1.</strong> Virtual Machine</a></li><li class="chapter-item expanded "><a href="../../weblets/weblets_k8s.html"><strong aria-hidden="true">5.3.2.</strong> Kubernetes</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.4.</strong> Ready Community Solutions</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../weblets/weblets_caprover.html"><strong aria-hidden="true">5.4.1.</strong> Caprover</a></li><li class="chapter-item expanded "><a href="../../weblets/weblets_funkwhale.html"><strong aria-hidden="true">5.4.2.</strong> Funkwhale</a></li><li class="chapter-item expanded "><a href="../../weblets/weblets_peertube.html"><strong aria-hidden="true">5.4.3.</strong> Peertube</a></li><li class="chapter-item expanded "><a href="../../weblets/weblets_taiga.html"><strong aria-hidden="true">5.4.4.</strong> Taiga</a></li><li class="chapter-item expanded "><a href="../../weblets/weblets_owncloud.html"><strong aria-hidden="true">5.4.5.</strong> Owncloud</a></li><li class="chapter-item expanded "><a href="../../weblets/weblets_discourse.html"><strong aria-hidden="true">5.4.6.</strong> Discourse</a></li><li class="chapter-item expanded "><a href="../../weblets/weblets_mattermost.html"><strong aria-hidden="true">5.4.7.</strong> Mattermost</a></li><li class="chapter-item expanded "><a href="../../weblets/weblets_presearch.html"><strong aria-hidden="true">5.4.8.</strong> Presearch</a></li><li class="chapter-item expanded "><a href="../../weblets/weblets_casper.html"><strong aria-hidden="true">5.4.9.</strong> CasperLabs</a></li><li class="chapter-item expanded "><a href="../../weblets/weblets_nodepilot.html"><strong aria-hidden="true">5.4.10.</strong> Node Pilot</a></li><li class="chapter-item expanded "><a href="../../weblets/weblets_umbrel.html"><strong aria-hidden="true">5.4.11.</strong> Umbrel</a></li><li class="chapter-item expanded "><a href="../../weblets/weblets_wordpress.html"><strong aria-hidden="true">5.4.12.</strong> WordPress</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../dashboard/dashboard.html"><strong aria-hidden="true">6.</strong> Dashboard</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../dashboard/explorer/explorer_home.html"><strong aria-hidden="true">6.1.</strong> Dasboard Explorer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../dashboard/explorer/explorer_find_capacity.html"><strong aria-hidden="true">6.1.1.</strong> find capacity</a></li><li class="chapter-item expanded "><a href="../../dashboard/explorer/explorer_graphql_intro.html"><strong aria-hidden="true">6.1.2.</strong> A Glimpse into GraphQL</a></li></ol></li><li class="chapter-item expanded "><a href="../../dashboard/portal/dashboard_portal_home.html"><strong aria-hidden="true">6.2.</strong> TFChain Portal</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../dashboard/portal/dashboard_portal_ui_farming.html"><strong aria-hidden="true">6.2.1.</strong> Activate your farmer account and nodes on TFChain</a></li><li class="chapter-item expanded "><a href="../../dashboard/portal/dashboard_portal_dedicated_nodes.html"><strong aria-hidden="true">6.2.2.</strong> Dedicated Nodes</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../flist_hub/flist_hub.html"><strong aria-hidden="true">7.</strong> Flist Hub</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../manual3_iac/grid3_supported_flists.html"><strong aria-hidden="true">7.1.</strong> Supported FLists</a></li></ol></li><li class="chapter-item expanded "><a href="../../TF_Farmer_Guide/tf_farmer_guide_readme.html"><strong aria-hidden="true">8.</strong> Threefold Farmer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../TF_Farmer_Guide/TF_Complete_Farmer_Guide/farmer_guide.html"><strong aria-hidden="true">8.1.</strong> Threefold Complete Farming Guide</a></li><li class="chapter-item expanded "><a href="../../TF_Farmer_Guide/3node_diy_desktop/3node_diy_desktop.html"><strong aria-hidden="true">8.2.</strong> 3node DIY Desktop</a></li><li class="chapter-item expanded "><a href="../../TF_Farmer_Guide/3node_diy_rack_server/3node_diy_rack_server.html" class="active"><strong aria-hidden="true">8.3.</strong> 3node DIY Rack Server</a></li></ol></li><li class="chapter-item expanded "><a href="../../farmerbot/farmerbot.html"><strong aria-hidden="true">9.</strong> Farmerbot</a></li><li class="chapter-item expanded "><a href="../../contribute/contribute.html"><strong aria-hidden="true">10.</strong> How to Contribute</a></li><li class="chapter-item expanded "><a href="../../faq/faq.html"><strong aria-hidden="true">11.</strong> FAQ</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p><img src="./img/farming_30.png" alt="Farming_Title" /></p>
<body>
<h1 id="diy-3node-guide---rack-server---dell-r620--r720"><a class="header" href="#diy-3node-guide---rack-server---dell-r620--r720">DIY 3node Guide - Rack Server - Dell R620 / R720</a></h1>
</body>
<p>In the following 3node DIY guide, you will learn how to turn a Dell server (R620, R720) into a 3node farming on the Threefold Grid 3.0. </p>
<p>Note that the process is similar for other rack servers.</p>
<body>
<h2 id="table-of-contents"><a class="header" href="#table-of-contents">Table of Contents</a></h2>
</body>
<ul>
<li><a href="#setting-up-the-hardware">Setting Up the Hardware</a>
<ul>
<li><a href="#avoiding-static-discharge">Avoiding Static Discharge</a></li>
<li><a href="#setting-the-m2-nvme-ssd-disk-with-the-pcie-adaptor">Setting the M.2 NVME SSD Disk with the PCIe Adaptor</a></li>
<li><a href="#checking-the-ram-sticks">Checking the RAM sticks</a>
<ul>
<li><a href="#general-rules-when-installing-ram-sticks">General Rules when Installing RAM Sticks</a>
<ul>
<li><a href="#procedure-to-install-ram-sticks">Procedure to Install RAM Sticks</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#installing-the-ssd-disks">Installing the SSD Disks</a></li>
<li><a href="#plugging-the-3node-server">Plugging the 3node Server</a></li>
<li><a href="#removing-the-dvd-optical-drive---installing-a-ssd-disk-in-the-dvd-optical-drive-slot">Removing the DVD Optical Drive - Installing a SSD disk in the DVD Optical Drive Slot</a></li>
<li><a href="#using-onboard-storage---raid-controller-details">Using Onboard Storage - RAID Controller Details</a></li>
</ul>
</li>
<li><a href="#zero-os-bootstrap-image">Zero-OS Bootstrap Image</a>
<ul>
<li><a href="#creating-a-threefold-farm">Creating a Threefold Farm</a></li>
<li><a href="#wiping-all-the-disks">Wiping All the Disks</a></li>
<li><a href="#downloading-the-zero-os-bootstrap-image">Downloading the Zero-OS Bootstrap Image</a>
<ul>
<li><a href="#dvd-iso-bios-image">DVD ISO BIOS Image</a></li>
<li><a href="#usb-bios-image">USB BIOS Image</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#bios-settings">BIOS Settings</a>
<ul>
<li><a href="#processor-settings">Processor Settings</a></li>
<li><a href="#boot-settings">Boot Settings</a></li>
</ul>
</li>
<li><a href="#booting-the-3node">Booting the 3node</a></li>
<li><a href="#additional-information">Additional Information</a>
<ul>
<li><a href="#differences-between-the-r620-and-the-r720">Differences between the R620 and the R720</a></li>
<li><a href="#different-cpus-and-rams-configurations-for-3node-dell-servers">Different CPUs and RAMs Configurations for 3node Dell Servers</a></li>
</ul>
</li>
<li><a href="#closing-words">Closing Words</a></li>
</ul>
<h1 id="setting-up-the-hardware"><a class="header" href="#setting-up-the-hardware">Setting Up the Hardware</a></h1>
<p><img src="./img/3node_diy_rack_server_1.png" alt="3node_diy_rack_server_1" /> </p>
<p>Dell R620 1U server</p>
<h2 id="avoiding-static-discharge"><a class="header" href="#avoiding-static-discharge">Avoiding Static Discharge</a></h2>
<p><img src="./img/3node_diy_rack_server_2.png" alt="3node_diy_rack_server_2" /> </p>
<p>Some will recommend to wear anti-static gloves as shown here. If you don’t have anti-static gloves, remember this: </p>
<blockquote>
<p>Always touch the metal side of the server before manipulating the hardware. </p>
</blockquote>
<p>Your hands will discharge the static on the outside of the box, which is secure.</p>
<h2 id="setting-the-m2-nvme-ssd-disk-with-the-pcie-adaptor"><a class="header" href="#setting-the-m2-nvme-ssd-disk-with-the-pcie-adaptor">Setting the M.2 NVME SSD Disk with the PCIe Adaptor</a></h2>
<p><img src="./img/3node_diy_rack_server_3.png" alt="3node_diy_rack_server_3" /></p>
<p>Here is one of the two 2TB SSD NVME m.2 that we will install on the server. Above the SSD is the PCIe Gen 3, x4 that we will use to connect the SSD to the server.</p>
<p><img src="./img/3node_diy_rack_server_4.png" alt="3node_diy_rack_server_4" /></p>
<p>You can see at the left of the adaptor that there is a metal piece that can be used to hold more firmly the PCIe adaptor and the SSD. We will remove it for this DIY build. Why? Because it is not necessary as the adaptor can hold the weight of the SSD. Also, this metal piece is full while the brackets in the server have holes in it. This will ensure a better airflow and thus less heat.</p>
<p><img src="./img/3node_diy_rack_server_5.png" alt="3node_diy_rack_server_5" /></p>
<p>We remove the screws with a star screwdriver.</p>
<p><img src="./img/3node_diy_rack_server_6.png" alt="3node_diy_rack_server_6" /> </p>
<p><img src="./img/3node_diy_rack_server_7.png" alt="3node_diy_rack_server_7" /></p>
<p>This SSD already has a heatsink. There is no need to use the heatsink included in the PCIe adaptor kit. If you remove the heatsink or the sticker under the SSD, you will lose your 5 years warranty.</p>
<p><img src="./img/3node_diy_rack_server_8.png" alt="3node_diy_rack_server_8" /></p>
<p>When you put the SSD in the adaptor, make sure you have the opening in line with the adaptor.</p>
<p><img src="./img/3node_diy_rack_server_9.png" alt="3node_diy_rack_server_9" /></p>
<p><img src="./img/3node_diy_rack_server_10.png" alt="3node_diy_rack_server_10" /></p>
<p>Fitting in the SSD takes some force. Do not overdo it and take your time!</p>
<p><img src="./img/3node_diy_rack_server_11.png" alt="3node_diy_rack_server_11" /></p>
<p>It’s normal that the unscrewed part is lifting in the air before you screw the SSD on the adaptor.</p>
<p><img src="./img/3node_diy_rack_server_12.png" alt="3node_diy_rack_server_12" /></p>
<p>To screw the SSD in place, use the screwdriver included in the PCIe adaptor kit.</p>
<p><img src="./img/3node_diy_rack_server_13.png" alt="3node_diy_rack_server_13" /></p>
<p><img src="./img/3node_diy_rack_server_14.png" alt="3node_diy_rack_server_14" /></p>
<p>Now that’s a steady SSD!</p>
<h2 id="checking-the-ram-sticks"><a class="header" href="#checking-the-ram-sticks">Checking the RAM sticks</a></h2>
<p><img src="./img/3node_diy_rack_server_15.png" alt="3node_diy_rack_server_15" /></p>
<p>It’s now time to get under the hood! Make sure the case is at the unlocked position. If you need to turn it to unlocked position, use a flathead screwdriver or a similar tool.</p>
<p><img src="./img/3node_diy_rack_server_16.png" alt="3node_diy_rack_server_16" /></p>
<p><img src="./img/3node_diy_rack_server_17.png" alt="3node_diy_rack_server_17" /></p>
<p>Lift up the lock and the top server plate should glide to the back. You can remove the top of the server.</p>
<p><img src="./img/3node_diy_rack_server_18.png" alt="3node_diy_rack_server_18" /></p>
<p>Here’s the full story! R620 and all!</p>
<p><img src="./img/3node_diy_rack_server_19.png" alt="3node_diy_rack_server_19" /></p>
<p><img src="./img/3node_diy_rack_server_20.png" alt="3node_diy_rack_server_20" /></p>
<p><img src="./img/3node_diy_rack_server_21.png" alt="3node_diy_rack_server_21" /></p>
<p>To remove this plastic piece, simply lift with your fingers at the designated spot (follow the blue line!).</p>
<p><img src="./img/3node_diy_rack_server_22.png" alt="3node_diy_rack_server_22" /></p>
<p>Here’s the RAMs! This R620 came already equipped with 256GB of rams dispersed in 16x16GB sticks. If you need to add the RAM sticks yourself, make sure you are doing it correctly. The FAQ covers some basic information for RAM installation.</p>
<p><img src="./img/3node_diy_rack_server_23.png" alt="3node_diy_rack_server_23" /></p>
<p>To remove a stick, push on the clips on both sides. You can do it one at a time if you want. Make sure it doesn’t pop out and fall on a hardware piece! Once the clips are opened, pull out the RAM stick by holding it on the sides. This will ensure it does not get damaged.</p>
<p><img src="./img/3node_diy_rack_server_24.png" alt="3node_diy_rack_server_24" /></p>
<p>Here’s the RAM in it’s purest form!</p>
<p><img src="./img/3node_diy_rack_server_25.png" alt="3node_diy_rack_server_25" /></p>
<p>Here you can see that the gap is not in the middle of the RAM stick. You must be careful when inserting the RAM. Make sure you have the gap aligned with the RAM holder.</p>
<p><img src="./img/3node_diy_rack_server_26.png" alt="3node_diy_rack_server_26" /></p>
<p>When you want to put a RAM stick in its slot, make sure the plastic holders on the sides are opened and insert the RAM stick. Make sure you align the RAM stick properly. You can then push on one side at a time until the RAM stick clicks in. You can do it both sides at once if you are at ease.</p>
<hr />
<h3 id="general-rules-when-installing-ram-sticks"><a class="header" href="#general-rules-when-installing-ram-sticks">General Rules when Installing RAM Sticks</a></h3>
<hr />
<p>First, always use RAM sticks of the same size and type. It should be noted on your motherboard which slots to populate first. </p>
<p>As a general guide, there is usually 2 slots A and B, with each 2 memory stick entries. You must then install the ram sticks on A1 and B1 in order to achieve dual channel, then A2 and B2 if you have more (visual order: A1 A2 B1 B2).</p>
<hr />
<h4 id="procedure-to-install-ram-sticks"><a class="header" href="#procedure-to-install-ram-sticks">Procedure to Install RAM Sticks</a></h4>
<hr />
<p>You want to start with your largest sticks, evenly distributed between both processors and work your way down to your smallest. </p>
<p>As an example, let's say you have 2 processors and 4x 16GB sticks and 4x 8GB sticks. The arrangement would be A1-16GB, B1-16GB, A2-16GB, B2-16GB, A3-8GB, B3-8GB, A4-8GB, B4-8GB. </p>
<p>Avoid odd numbers as well. You optimally want pairs. So if you only have 5x 8GB sticks, only install 4 until you have an even 6.</p>
<h2 id="installing-the-ssd-disks"><a class="header" href="#installing-the-ssd-disks">Installing the SSD Disks</a></h2>
<p><img src="./img/3node_diy_rack_server_27.png" alt="3node_diy_rack_server_27" /></p>
<p>To put back the plastic protector, simply align the plastic piece with the two nudges in the metal case.</p>
<p><img src="./img/3node_diy_rack_server_28.png" alt="3node_diy_rack_server_28" /></p>
<p><img src="./img/3node_diy_rack_server_29.png" alt="3node_diy_rack_server_29" /></p>
<p>We will now remove this PCIe riser in order to connect the SSDs.</p>
<p><img src="./img/3node_diy_rack_server_30.png" alt="3node_diy_rack_server_30" /></p>
<p>Optional step: put the SSDs and the PCIe riser next to each other so they can talk and break the ice. They will get to learn one another before going into the server to farm TFT.</p>
<p><img src="./img/3node_diy_rack_server_31.png" alt="3node_diy_rack_server_31" /></p>
<p>Just like with RAM sticks, you want to make sure you are aligned with the slot.</p>
<p><img src="./img/3node_diy_rack_server_32.png" alt="3node_diy_rack_server_32" /></p>
<p>Next, push the adaptor inside the riser’s opening. This takes some force too. If you are well aligned, it should be done with ease.</p>
<p><img src="./img/3node_diy_rack_server_33.png" alt="3node_diy_rack_server_33" /></p>
<p>This is what the riser looks like with the two SSDs installed. Now you simply need to put the riser back inside the server.</p>
<p><img src="./img/3node_diy_rack_server_34.png" alt="3node_diy_rack_server_34" /></p>
<p>Push down on the riser to insert it properly.</p>
<p><img src="./img/3node_diy_rack_server_35.png" alt="3node_diy_rack_server_35" /></p>
<p>It’s good to notice that the inside of the top plate of the server has great pictures showing how to manipulate the hardware.</p>
<h2 id="plugging-the-3node-server"><a class="header" href="#plugging-the-3node-server">Plugging the 3node Server</a></h2>
<p><img src="./img/3node_diy_rack_server_36.png" alt="3node_diy_rack_server_36" /></p>
<p>Now you will want to plug in the power cable in the PSU. Here we show two 495W PSUs. With 256GB of RAM and two SSDs NVME, it is better to use two 750W PSUs. Note that this server will only use around 100W at idle. There are two power cables for redundancy. The unit does not need more than one to function.</p>
<p>On a 15A/120V breaker, you can have more than one server. But note that, at full load, this server can use up to 400W. In this case, no more than 3 servers could be plugged on the same breaker. Make sure you adapt to your current situation (server's power consumption, electric breaker, etc.).</p>
<p><img src="./img/3node_diy_rack_server_37.png" alt="3node_diy_rack_server_37" /></p>
<p>Plugging in the power cable is pretty straightforward. Just make sure you have the 3 pins oriented properly!</p>
<p><img src="./img/3node_diy_rack_server_38.png" alt="3node_diy_rack_server_38" /></p>
<p>It is highly recommended to plug the power cable in a surge protector. If you have unsteady electricity at your location, it might be good to use a UPS, uninterrupted power supply. A surge protector is essential to avoid overpowering and damaging the server.</p>
<p><img src="./img/3node_diy_rack_server_39.png" alt="3node_diy_rack_server_39" /></p>
<p><img src="./img/3node_diy_rack_server_40.png" alt="3node_diy_rack_server_40" /></p>
<p><img src="./img/3node_diy_rack_server_41.png" alt="3node_diy_rack_server_41" /></p>
<p>Before starting the server, you can plug in the monitor and the keyboard as well as the ethernet cable. Make sure you plug the ethernet cable in one of the four NIC ports.</p>
<p><img src="./img/3node_diy_rack_server_42.png" alt="3node_diy_rack_server_42" /></p>
<p>Now, power it on!</p>
<p><img src="./img/3node_diy_rack_server_43.png" alt="3node_diy_rack_server_43" /></p>
<p>The server is booting.</p>
<h2 id="removing-the-dvd-optical-drive---installing-a-ssd-disk-in-the-dvd-optical-drive-slot"><a class="header" href="#removing-the-dvd-optical-drive---installing-a-ssd-disk-in-the-dvd-optical-drive-slot">Removing the DVD Optical Drive - Installing a SSD disk in the DVD Optical Drive Slot</a></h2>
<p><img src="./img/3node_diy_rack_server_44.png" alt="3node_diy_rack_server_44" /></p>
<p><img src="./img/3node_diy_rack_server_45.png" alt="3node_diy_rack_server_45" /></p>
<p>If you want to change the DVD optical drive, push where indicated and remove the power and SATA cables. </p>
<p>It is possible to install a SSD disk in there. To do so, use a SATA HDD hard drive caddy CD/DVD <strong>9.5mm</strong> and put in a SATA III 2.5&quot; disk. The caddy is not necessary. You could simply remove the standard CD/DVD caddy and plug the SATA disk.</p>
<p>The hardware part is done. Next, you will want to set the BIOS properly as well as get the bootstrap image of Zero-OS. Before we get into this, let's have some information on using the onboard storage of your 3node server.</p>
<h2 id="using-onboard-storage---raid-controller-details"><a class="header" href="#using-onboard-storage---raid-controller-details">Using Onboard Storage - RAID Controller Details</a></h2>
<p>If you want to use the onboard storage on your server, you will probably need to flash the RAID card or do some adjustment in order for Zero-OS to recognize your disks.</p>
<p>You can use the onboard storage on a server without RAID. You can <a href="https://fohdeesha.com/docs/perc.html">re-flash</a>  the RAID card, turn on HBA/non-RAID mode, or install a different card. It's usually easy to set servers such as a HP Proliant with the HBA mode. </p>
<p>For Dell servers, you can either cross-flash the RAID controller with an “IT-mode-Firmware” (see this <a href="https://www.youtube.com/watch?v=h5nb09VksYw">video</a>) or get a DELL H310-controller (which has the non-RAID option). Otherwise, as shown in this guide, you can install a NVME SSD with a PCIe adaptor, and turn off the RAID controller.</p>
<p>Note that for Dell R610 and R710, you can re-flash the RAID card. For the R910, you can’t re-flash the card. In this case, you will need to get a LSI Dell card.</p>
<h1 id="zero-os-bootstrap-image"><a class="header" href="#zero-os-bootstrap-image">Zero-OS Bootstrap Image</a></h1>
<p>With R620 and R720 Dell servers, UEFI does not work well. You will want to use either a DVD or a USB in BIOS mode.</p>
<p>Go on https://bootstrap.grid.tf/ and download the appropriate image: option <strong>ISO</strong> for the DVD and option <strong>USB</strong> for BIOS USB (not UEFI).</p>
<p>Write your farmer ID and make sure you select production mode.</p>
<h2 id="creating-a-threefold-farm"><a class="header" href="#creating-a-threefold-farm">Creating a Threefold Farm</a></h2>
<p>If you haven't created a Threefold farm yet, you have two options: </p>
<ol>
<li><a href="/farming/farming.html#1-create-a-farm">Create a Farm with the Polkadot.js Extension</a> </li>
<li><a href="/farming/farming.html#create-a-farm">Create a Farm with Threefold Connect App</a></li>
</ol>
<p>Note: It is possible to move your farm from the <a href="/farming/farming.html#move-farm-from-the-tf-app-to-the-tf-portal-polkadotjs">TF Connect App to the TF Portal</a> (via the Polkadot.js Extension). You can also <a href="/farming/farming.html#import-tf-portal-polkadotjs-wallet-to-the-tf-connect-app-wallet">import your farm from the TF Portal to the TF Connect App</a>.</p>
<h2 id="wiping-all-the-disks"><a class="header" href="#wiping-all-the-disks">Wiping All the Disks</a></h2>
<p>You might need to wipe your disks if they are not brand new. To wipe your disks, read the section <a href="/farming/farming.html#4-wipe-all-the-disks">Wipe All the Disks</a> of the <a href="/farming/farming.html">Threefold Farming Documentation</a>.</p>
<h2 id="downloading-the-zero-os-bootstrap-image"><a class="header" href="#downloading-the-zero-os-bootstrap-image">Downloading the Zero-OS Bootstrap Image</a></h2>
<p><img src="./img/3node_diy_rack_server_46.png" alt="3node_diy_rack_server_46" /></p>
<p><img src="./img/3node_diy_rack_server_47.png" alt="3node_diy_rack_server_47" /></p>
<p>Use the ISO image for DVD boot and the USB image for USB BIOS boot (not UEFI). We use the farm ID 1 here as an example. Put your own farm ID.</p>
<hr />
<h3 id="dvd-iso-bios-image"><a class="header" href="#dvd-iso-bios-image">DVD ISO BIOS Image</a></h3>
<p>For the ISO image, download the file and burn it on a DVD.</p>
<hr />
<h3 id="usb-bios-image"><a class="header" href="#usb-bios-image">USB BIOS Image</a></h3>
<p>Note: the USB key must be formatted before burning the Zero-OS bootstrap image.</p>
<p>For Windows, MAC and Linux, you can use <a href="https://www.balena.io/etcher/">balenaEtcher</a>, a free and open source software that will let you create a bootstrap image on a USB key, while also formatting the USB key at the same time. </p>
<p>This is the <strong>easiest way</strong> to burn your Zero-OS bootstrap image. All the steps are clearly explained within the software.</p>
<hr />
<p>For Windows, you can also use Rufus.</p>
<hr />
<p>For the USB image, with Linux, you can also go through the command window and write:</p>
<blockquote>
<p>dd status=progress if=FILELOCATION.ISO(or .IMG) of=/dev/sd*. </p>
</blockquote>
<p>Here the * is to indicate that you must adjust according to your disk. To see your disks, write <strong>lsblk</strong> in the command window. Make sure you select the proper disk. </p>
<h1 id="bios-settings"><a class="header" href="#bios-settings">BIOS Settings</a></h1>
<p>Before starting the server, plug in the USB bootstrap image. You can also insert the DVD once the server is on.</p>
<p>When you start the server, press F2 to get into System Setup.</p>
<p>Then, select System BIOS. In System BIOS settings, select Processor Settings.</p>
<p>Note: More details are available for BIOS Settings in this <a href="/farming/farming.html#bios-mode">documentation</a>.</p>
<h2 id="processor-settings"><a class="header" href="#processor-settings">Processor Settings</a></h2>
<p>Make sure you have enabled the Logical Processor (Hyper Threading with HP). This turns 8 cores into 16 virtual cores. You can set QPI Speed at Maximum data rate. Make sure you set All to Number of Cores per Processor. You can adjust the Processor Core speed and Processor Bus Speed for specific uses.</p>
<p>It is also good to take a look at the Processors and make sure the hardware is correct.</p>
<h2 id="boot-settings"><a class="header" href="#boot-settings">Boot Settings</a></h2>
<p>Go to System BIOS Settings and select Boot Settings. In Boot Settings, choose BIOS and not UEFI as the Boot Mode. You need to save your preferences and comeback to select BIOS Boot Settings.</p>
<p>Once back in BIOS Boot Settings, go to Boot Sequence. Depending on your bootstrap image of Zero-OS, select either the USB key or the Optical Drive CD-DVD option. The name of the USB key can be Drive C or else depending on where you plugged it and your server model.</p>
<p>You can also disable the booting options that are not need. It can be good to have a DVD and a USB key with the bootstrap images for redundancy. If one boot fails, the computer would try with the other options of the boot sequence. This can be done with 2 USB keys too.</p>
<p>Boot Sequence Retry enabled will simply redo the booting sequence if the last time did not work.</p>
<hr />
<p>That's it. You've set the BIOS settings properly and now is time to boot the 3node and connect to the Threefold Grid.</p>
<p>You can then save your preferences and exit. Your server should restart and load the bootstrap image. </p>
<h1 id="booting-the-3node"><a class="header" href="#booting-the-3node">Booting the 3node</a></h1>
<p>Once you've set the BIOS settings and restarted your computer, it will download the Zero-OS bootstrap image. This takes a couple of minutes.</p>
<p>The first time you boot a 3node, it will be written: “This node is not registered (farmer ***: NameOfFarm). This is normal. The Grid will create a node ID and you will be able to see it on screen. This can take a couple of minutes.</p>
<p>Once you have your node ID, you can also go on the Threefold Explorer to see your 3node and verify that the connection is recognized by the Explorer.</p>
<h1 id="additional-information"><a class="header" href="#additional-information">Additional Information</a></h1>
<h2 id="differences-between-the-r620-and-the-r720"><a class="header" href="#differences-between-the-r620-and-the-r720">Differences between the R620 and the R720</a></h2>
<p>Note that the main difference between the R620 and the R720 is that the former is a 1U and the latter a 2U. 2U servers are usually less noisy and generate less heat than 1U servers since they have a greater volume. In the R720, fans are bigger and thus less noisy. This can be an important factor to consider. Both offer great performances and work well with Zero-OS.</p>
<h2 id="different-cpus-and-rams-configurations-for-3node-dell-servers"><a class="header" href="#different-cpus-and-rams-configurations-for-3node-dell-servers">Different CPUs and RAMs Configurations for 3node Dell Servers</a></h2>
<p>Different CPUs and RAMs configurations are possible for the Dell R620/R720 servers.</p>
<p>For example, you could replace the E5-2640 v2 CPUs for the E5-2695 V2. This would give you 48 Threads. You could then go with 12x32GB DDR3 LRDIMM. You would also need 5TB SSD total instead to get the proper ratio, which is 100GB of SSD and 8GB of RAM per virtual core (also called thread or logical core).</p>
<p>Note that you cannot have more than 16 sticks of ECC DIMM on the R620/R720. For more sticks, you need LRDIMM as stated above. </p>
<h1 id="closing-words"><a class="header" href="#closing-words">Closing Words</a></h1>
<p>That's it. You have now built a DIY 3node and you are farming on the Threefold Grid.</p>
<p>If you encounter errors, you can read the section <a href="/faq/faq.html#troubleshooting-and-error-messages">Troubleshooting and Error Messages</a> of the <a href="/faq/faq.html#farmer-faq">Farmer FAQ</a>.</p>
<blockquote>
<p>Welcome to the New Internet!</p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../TF_Farmer_Guide/3node_diy_desktop/3node_diy_desktop.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../farmerbot/farmerbot.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../TF_Farmer_Guide/3node_diy_desktop/3node_diy_desktop.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../farmerbot/farmerbot.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
