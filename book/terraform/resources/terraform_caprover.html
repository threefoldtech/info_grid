<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>CapRover</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../../intro/intro_readme.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="../../intro/grid3_howitworks.html"><strong aria-hidden="true">2.</strong> How it Works</a></li><li class="chapter-item expanded "><a href="../../concepts/concepts_readme.html"><strong aria-hidden="true">3.</strong> Grid Concepts</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../concepts/grid_primitives.html"><strong aria-hidden="true">3.1.</strong> TFGrid Primitives</a></li><li class="chapter-item "><a href="../../concepts/grid3_components.html"><strong aria-hidden="true">3.2.</strong> TFGrid Component List</a></li><li class="chapter-item "><a href="../../concepts/grid3_iac.html"><strong aria-hidden="true">3.3.</strong> Infrastructure as Code</a></li><li class="chapter-item "><a href="../../concepts/proof_of_utilization.html"><strong aria-hidden="true">3.4.</strong> Proof of Utilization</a></li><li class="chapter-item "><a href="../../concepts/contract_grace_period.html"><strong aria-hidden="true">3.5.</strong> Contract Grace Period</a></li><li class="chapter-item "><a href="../../concepts/buying_storing_tft.html"><strong aria-hidden="true">3.6.</strong> Buying and Storing TFTs</a></li><li class="chapter-item "><a href="../../concepts/grid3_whatsnew.html"><strong aria-hidden="true">3.7.</strong> What's New on TFGrid v3.x</a></li><li class="chapter-item "><a href="../../concepts/tfchain.html"><strong aria-hidden="true">3.8.</strong> TFChain</a></li></ol></li><li class="chapter-item expanded "><a href="../../getstarted/tfgrid3_getstarted.html"><strong aria-hidden="true">4.</strong> Getting Started</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../getstarted/TF_Connect/TF_Connect.html"><strong aria-hidden="true">4.1.</strong> ThreeFold Connect</a></li><li class="chapter-item "><a href="../../getstarted/TF_Token/tft_toc.html"><strong aria-hidden="true">4.2.</strong> ThreeFold Token</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../getstarted/TF_Token/tft_lobstr/tft_lobstr.html"><strong aria-hidden="true">4.2.1.</strong> TFT on Lobstr</a></li><li class="chapter-item "><a href="../../getstarted/TF_Token/tft_ethereum/tft_ethereum.html"><strong aria-hidden="true">4.2.2.</strong> TFT on Ethereum</a></li></ol></li><li class="chapter-item "><a href="../../getstarted/TF_Dashboard/TF_Dashboard.html"><strong aria-hidden="true">4.3.</strong> ThreeFold Dashboard</a></li><li class="chapter-item "><a href="../../dashboard/explorer/explorer_find_capacity.html"><strong aria-hidden="true">4.4.</strong> Tutorial: Find Node</a></li><li class="chapter-item "><a href="../../weblets/weblets_vm.html"><strong aria-hidden="true">4.5.</strong> Tutorial: Deploy Your First VM</a></li><li class="chapter-item "><a href="../../getstarted/ssh_guide/ssh_guide.html"><strong aria-hidden="true">4.6.</strong> SSH Remote Connection</a></li><li class="chapter-item "><a href="../../getstarted/remote-desktop_gui/remote-desktop_gui.html"><strong aria-hidden="true">4.7.</strong> Remote Desktop and GUI</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../getstarted/remote-desktop_gui/cockpit_guide/cockpit_guide.html"><strong aria-hidden="true">4.7.1.</strong> Cockpit: a Web-based Interface for Servers</a></li><li class="chapter-item "><a href="../../getstarted/remote-desktop_gui/xrdp_guide/xrdp_guide.html"><strong aria-hidden="true">4.7.2.</strong> XRDP: an Open-Source Remote Desktop Protocol</a></li><li class="chapter-item "><a href="../../getstarted/remote-desktop_gui/guacamole_guide/guacamole_guide.html"><strong aria-hidden="true">4.7.3.</strong> Apache Guacamole: a Clientless Remote Desktop Gateway</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../tokens/tft_readme.html"><strong aria-hidden="true">5.</strong> TFT</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../tokens/buytft/buytft_readme.html"><strong aria-hidden="true">5.1.</strong> Get TFT</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../tokens/buytft/pancakeswap.html"><strong aria-hidden="true">5.1.1.</strong> Pancake Swap</a></li><li class="chapter-item "><a href="../../tokens/buytft/oneinch.html"><strong aria-hidden="true">5.1.2.</strong> 1inch.io</a></li><li class="chapter-item "><a href="../../tokens/buytft/gettft.html"><strong aria-hidden="true">5.1.3.</strong> GetTFT.com</a></li><li class="chapter-item "><a href="../../tokens/buytft/albedo_buy.html"><strong aria-hidden="true">5.1.4.</strong> Albedo</a></li></ol></li><li class="chapter-item "><a href="../../tokens/storetft/storetft_readme.html"><strong aria-hidden="true">5.2.</strong> Store TFT</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../tokens/storetft/metamask.html"><strong aria-hidden="true">5.2.1.</strong> Metamask (TFT-BSC)</a></li><li class="chapter-item "><a href="../../tokens/storetft/trustwallet.html"><strong aria-hidden="true">5.2.2.</strong> Trust Wallet (TFT-BSC)</a></li><li class="chapter-item "><a href="../../tokens/storetft/albedo_store.html"><strong aria-hidden="true">5.2.3.</strong> Albedo</a></li></ol></li><li class="chapter-item "><a href="../../tokens/liquidity/liquidity_readme.html"><strong aria-hidden="true">5.3.</strong> Provide Liquidity</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../tokens/liquidity/liquidity_pancake.html"><strong aria-hidden="true">5.3.1.</strong> LP on Pancake Swap</a></li><li class="chapter-item "><a href="../../tokens/liquidity/liquidity_1inch.html"><strong aria-hidden="true">5.3.2.</strong> LP on 1inch.io</a></li><li class="chapter-item "><a href="../../tokens/liquidity/liquidity_albedo.html"><strong aria-hidden="true">5.3.3.</strong> LP on Albedo</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../getstarted/planetarynetwork.html"><strong aria-hidden="true">6.</strong> Planetary Network</a></li><li class="chapter-item expanded "><a href="../../terraform/terraform_readme.html"><strong aria-hidden="true">7.</strong> Terraform</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../terraform/terraform_install.html"><strong aria-hidden="true">7.1.</strong> Installing Terraform</a></li><li class="chapter-item "><a href="../../terraform/terraform_basics.html"><strong aria-hidden="true">7.2.</strong> Terraform Basics</a></li><li class="chapter-item "><a href="../../terraform/terraform_get_started.html"><strong aria-hidden="true">7.3.</strong> Tutorial</a></li><li class="chapter-item "><a href="../../terraform/terraform_delete.html"><strong aria-hidden="true">7.4.</strong> Delete</a></li><li class="chapter-item "><a href="../../terraform/terraform_full_vm.html"><strong aria-hidden="true">7.5.</strong> Full VM Deployment</a></li><li class="chapter-item expanded "><a href="../../terraform/resources/terraform_resources_readme.html"><strong aria-hidden="true">7.6.</strong> Resources</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../terraform/resources/terraform_vm.html"><strong aria-hidden="true">7.6.1.</strong> Virtual Machine</a></li><li class="chapter-item "><a href="../../terraform/resources/terraform_vm_gateway.html"><strong aria-hidden="true">7.6.2.</strong> Web Gateway</a></li><li class="chapter-item "><a href="../../terraform/resources/terraform_k8s.html"><strong aria-hidden="true">7.6.3.</strong> Kubernetes Cluster</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../terraform/resources/terraform_k8s_demo.html"><strong aria-hidden="true">7.6.3.1.</strong> Demo</a></li></ol></li><li class="chapter-item "><a href="../../terraform/resources/terraform_zdb.html"><strong aria-hidden="true">7.6.4.</strong> ZDB</a></li><li class="chapter-item "><a href="../../terraform/resources/terraform_qsfs.html"><strong aria-hidden="true">7.6.5.</strong> Quantum Filesystem</a></li><li class="chapter-item expanded "><a href="../../terraform/resources/terraform_caprover.html" class="active"><strong aria-hidden="true">7.6.6.</strong> CapRover</a></li></ol></li><li class="chapter-item "><a href="../../terraform/advanced/terraform_advanced_readme.html"><strong aria-hidden="true">7.7.</strong> Advanced</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../terraform/advanced/terraform_provider.html"><strong aria-hidden="true">7.7.1.</strong> Terraform Provider</a></li><li class="chapter-item "><a href="../../terraform/advanced/terraform_provisioners.html"><strong aria-hidden="true">7.7.2.</strong> Terraform Provisioners</a></li><li class="chapter-item "><a href="../../terraform/advanced/terraform_mounts.html"><strong aria-hidden="true">7.7.3.</strong> Mounts</a></li><li class="chapter-item "><a href="../../terraform/advanced/terraform_capacity_planning.html"><strong aria-hidden="true">7.7.4.</strong> Capacity Planning</a></li><li class="chapter-item "><a href="../../terraform/advanced/terraform_updates.html"><strong aria-hidden="true">7.7.5.</strong> Updates</a></li><li class="chapter-item "><a href="../../terraform/advanced/terraform_nextcloud_redundant.html"><strong aria-hidden="true">7.7.6.</strong> Nextcloud Redundant Deployment</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../javascript/grid3_javascript_readme.html"><strong aria-hidden="true">8.</strong> Javascript Client</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../javascript/grid3_javascript_installation.html"><strong aria-hidden="true">8.1.</strong> Installation</a></li><li class="chapter-item "><a href="../../javascript/grid3_javascript_loadclient.html"><strong aria-hidden="true">8.2.</strong> Loading Client</a></li><li class="chapter-item "><a href="../../javascript/grid3_javascript_vm.html"><strong aria-hidden="true">8.3.</strong> Deploy a VM</a></li><li class="chapter-item "><a href="../../javascript/grid3_javascript_capacity_planning.html"><strong aria-hidden="true">8.4.</strong> Capacity Planning</a></li><li class="chapter-item "><a href="../../javascript/grid3_javascript_vms.html"><strong aria-hidden="true">8.5.</strong> Deploy Multiple VMs</a></li><li class="chapter-item "><a href="../../javascript/grid3_javascript_caprover.html"><strong aria-hidden="true">8.6.</strong> Deploy CapRover</a></li><li class="chapter-item "><a href="../../javascript/grid3_javascript_vm_gateways.html"><strong aria-hidden="true">8.7.</strong> Gateways</a></li><li class="chapter-item "><a href="../../javascript/grid3_javascript_kubernetes.html"><strong aria-hidden="true">8.8.</strong> Deploy a Kubernetes Cluster</a></li><li class="chapter-item "><a href="../../javascript/grid3_javascript_zdb.html"><strong aria-hidden="true">8.9.</strong> Deploy a ZDB</a></li><li class="chapter-item "><a href="../../javascript/grid3_javascript_qsfs_zdbs.html"><strong aria-hidden="true">8.10.</strong> Deploy ZDBs for QSFS</a></li><li class="chapter-item "><a href="../../javascript/grid3_javascript_qsfs.html"><strong aria-hidden="true">8.11.</strong> QSFS</a></li><li class="chapter-item "><a href="../../javascript/grid3_javascript_kvstore.html"><strong aria-hidden="true">8.12.</strong> Key Value Store</a></li><li class="chapter-item "><a href="../../javascript/grid3_wireguard_gateway.html"><strong aria-hidden="true">8.13.</strong> Gateway with wireguard backend</a></li></ol></li><li class="chapter-item expanded "><a href="../../go/grid3_go_readme.html"><strong aria-hidden="true">9.</strong> Go Client</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../go/grid3_go_installation.html"><strong aria-hidden="true">9.1.</strong> Installation</a></li><li class="chapter-item "><a href="../../go/grid3_go_load_client.html"><strong aria-hidden="true">9.2.</strong> Loading Client</a></li><li class="chapter-item "><a href="../../go/grid3_go_vm.html"><strong aria-hidden="true">9.3.</strong> Deploy a VM</a></li><li class="chapter-item "><a href="../../go/grid3_go_vms.html"><strong aria-hidden="true">9.4.</strong> Deploy Multiple VMs</a></li><li class="chapter-item "><a href="../../go/grid3_go_gateways.html"><strong aria-hidden="true">9.5.</strong> Deploy Gateways</a></li><li class="chapter-item "><a href="../../go/grid3_go_kubernetes.html"><strong aria-hidden="true">9.6.</strong> Deploy Kubernetes</a></li></ol></li><li class="chapter-item expanded "><a href="../../tfgridcmd/grid3_cli_readme.html"><strong aria-hidden="true">10.</strong> TFGrid CLI</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../tfgridcmd/grid3_cli_installation.html"><strong aria-hidden="true">10.1.</strong> Installation</a></li><li class="chapter-item "><a href="../../tfgridcmd/grid3_cli_login.html"><strong aria-hidden="true">10.2.</strong> Login</a></li><li class="chapter-item "><a href="../../tfgridcmd/grid3_cli_vm.html"><strong aria-hidden="true">10.3.</strong> Deploy a VM</a></li><li class="chapter-item "><a href="../../tfgridcmd/grid3_cli_gateways.html"><strong aria-hidden="true">10.4.</strong> Deploy Gateways</a></li><li class="chapter-item "><a href="../../tfgridcmd/grid3_cli_kubernetes.html"><strong aria-hidden="true">10.5.</strong> Deploy Kubernetes</a></li></ol></li><li class="chapter-item expanded "><a href="../../TF_Grid_Services/tf_grid_services_readme.html"><strong aria-hidden="true">11.</strong> TFGrid Services</a></li><li class="chapter-item expanded "><a href="../../cloud/cloud.html"><strong aria-hidden="true">12.</strong> Cloud</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../cloud/cloudunits_pricing.html"><strong aria-hidden="true">12.1.</strong> Pricing</a></li></ol></li><li class="chapter-item expanded "><a href="../../weblets/weblets_home.html"><strong aria-hidden="true">13.</strong> Weblets</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../weblets/weblets_profile_manager.html"><strong aria-hidden="true">13.1.</strong> Profile Manager</a></li><li class="chapter-item "><a href="../../weblets/weblets_deployments_list.html"><strong aria-hidden="true">13.2.</strong> Deployments List</a></li><li class="chapter-item "><a href="../../weblets/weblets_cancel_contracts.html"><strong aria-hidden="true">13.3.</strong> Cancel Contracts</a></li><li class="chapter-item "><a href="../../weblets/weblets_basic_environments_readme.html"><strong aria-hidden="true">13.4.</strong> Basic Environments</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../weblets/weblets_fullVm.html"><strong aria-hidden="true">13.4.1.</strong> Full Virtual Machine</a></li><li class="chapter-item "><a href="../../weblets/weblets_vm.html"><strong aria-hidden="true">13.4.2.</strong> Virtual Machine</a></li><li class="chapter-item "><a href="../../weblets/weblets_k8s.html"><strong aria-hidden="true">13.4.3.</strong> Kubernetes</a></li><li class="chapter-item "><a href="../../weblets/weblets_nixos_micro.html"><strong aria-hidden="true">13.4.4.</strong> Nixos MicroVM</a></li></ol></li><li class="chapter-item "><a href="../../weblets/weblets_ready_community_readme.html"><strong aria-hidden="true">13.5.</strong> Ready Community Solutions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../weblets/weblets_algorand.html"><strong aria-hidden="true">13.5.1.</strong> Algorand</a></li><li class="chapter-item "><a href="../../weblets/weblets_caprover.html"><strong aria-hidden="true">13.5.2.</strong> Caprover</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../weblets/weblets_caprover_admin.html"><strong aria-hidden="true">13.5.2.1.</strong> Caprover Admin</a></li><li class="chapter-item "><a href="../../weblets/weblets_caprover_worker.html"><strong aria-hidden="true">13.5.2.2.</strong> Caprover Worker</a></li></ol></li><li class="chapter-item "><a href="../../weblets/weblets_casper.html"><strong aria-hidden="true">13.5.3.</strong> CasperLabs</a></li><li class="chapter-item "><a href="../../weblets/weblets_discourse.html"><strong aria-hidden="true">13.5.4.</strong> Discourse</a></li><li class="chapter-item "><a href="../../weblets/weblets_funkwhale.html"><strong aria-hidden="true">13.5.5.</strong> Funkwhale</a></li><li class="chapter-item "><a href="../../weblets/weblets_mastodon.html"><strong aria-hidden="true">13.5.6.</strong> Mastodon Weblet</a></li><li class="chapter-item "><a href="../../weblets/weblets_mattermost.html"><strong aria-hidden="true">13.5.7.</strong> Mattermost</a></li><li class="chapter-item "><a href="../../weblets/weblets_nodepilot.html"><strong aria-hidden="true">13.5.8.</strong> Node Pilot</a></li><li class="chapter-item "><a href="../../weblets/weblets_owncloud.html"><strong aria-hidden="true">13.5.9.</strong> Owncloud</a></li><li class="chapter-item "><a href="../../weblets/weblets_peertube.html"><strong aria-hidden="true">13.5.10.</strong> Peertube</a></li><li class="chapter-item "><a href="../../weblets/weblets_presearch.html"><strong aria-hidden="true">13.5.11.</strong> Presearch</a></li><li class="chapter-item "><a href="../../weblets/weblets_subsquid.html"><strong aria-hidden="true">13.5.12.</strong> Subsquid</a></li><li class="chapter-item "><a href="../../weblets/weblets_taiga.html"><strong aria-hidden="true">13.5.13.</strong> Taiga</a></li><li class="chapter-item "><a href="../../weblets/weblets_umbrel.html"><strong aria-hidden="true">13.5.14.</strong> Umbrel</a></li><li class="chapter-item "><a href="../../weblets/weblets_wordpress.html"><strong aria-hidden="true">13.5.15.</strong> WordPress</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../dashboard/dashboard.html"><strong aria-hidden="true">14.</strong> Dashboard</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../dashboard/explorer/explorer_home.html"><strong aria-hidden="true">14.1.</strong> Dasboard Explorer</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../dashboard/explorer/explorer_find_capacity.html"><strong aria-hidden="true">14.1.1.</strong> Find Capacity</a></li><li class="chapter-item "><a href="../../dashboard/explorer/explorer_graphql_intro.html"><strong aria-hidden="true">14.1.2.</strong> A Glimpse into GraphQL</a></li></ol></li><li class="chapter-item "><a href="../../dashboard/portal/dashboard_portal_home.html"><strong aria-hidden="true">14.2.</strong> TFChain Portal</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../dashboard/portal/dashboard_portal_ui_tokens.html"><strong aria-hidden="true">14.2.1.</strong> Manage TFTs on TFChain</a></li><li class="chapter-item "><a href="../../dashboard/portal/dashboard_portal_ui_farming.html"><strong aria-hidden="true">14.2.2.</strong> Activate Farmer Account and Nodes on TFChain</a></li><li class="chapter-item "><a href="../../dashboard/portal/dashboard_portal_dedicated_nodes.html"><strong aria-hidden="true">14.2.3.</strong> Dedicated Nodes</a></li></ol></li><li class="chapter-item "><a href="../../dashboard/dao_voting/dao_voting.html"><strong aria-hidden="true">14.3.</strong> DAO Voting</a></li></ol></li><li class="chapter-item expanded "><a href="../../flist_hub/flist_hub.html"><strong aria-hidden="true">15.</strong> Flist Hub</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../manual3_iac/grid3_supported_flists.html"><strong aria-hidden="true">15.1.</strong> Supported FLists</a></li></ol></li><li class="chapter-item expanded "><a href="../../farmers/farmers.html"><strong aria-hidden="true">16.</strong> Farmers</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../farmers/3node_building/3node_building.html"><strong aria-hidden="true">16.1.</strong> Build a 3Node</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../farmers/3node_building/1_create_farm.html"><strong aria-hidden="true">16.1.1.</strong> 1. Create a Farm</a></li><li class="chapter-item "><a href="../../farmers/3node_building/2_bootstrap_image.html"><strong aria-hidden="true">16.1.2.</strong> 2. Create a Zero-OS Bootstrap Image</a></li><li class="chapter-item "><a href="../../farmers/3node_building/3_set_hardware.html"><strong aria-hidden="true">16.1.3.</strong> 3. Set the Hardware</a></li><li class="chapter-item "><a href="../../farmers/3node_building/4_wipe_all_disks.html"><strong aria-hidden="true">16.1.4.</strong> 4. Wipe All the Disks</a></li><li class="chapter-item "><a href="../../farmers/3node_building/5_set_bios_uefi.html"><strong aria-hidden="true">16.1.5.</strong> 5. Set the BIOS/UEFI</a></li><li class="chapter-item "><a href="../../farmers/3node_building/6_boot_3node.html"><strong aria-hidden="true">16.1.6.</strong> 6. Boot the 3Node</a></li><li class="chapter-item "><a href="../../farmers/3node_building/data_center.html"><strong aria-hidden="true">16.1.7.</strong> Set Up a ThreeFold Farm in a Data Center</a></li></ol></li><li class="chapter-item "><a href="../../farmers/complete_diy_guides/complete_diy_guides_readme.html"><strong aria-hidden="true">16.2.</strong> Complete DIY 3Node Guides</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../farmers/complete_diy_guides/3node_diy_desktop/3node_diy_desktop.html"><strong aria-hidden="true">16.2.1.</strong> 3Node Desktop DIY Guide</a></li><li class="chapter-item "><a href="../../farmers/complete_diy_guides/3node_diy_rack_server/3node_diy_rack_server.html"><strong aria-hidden="true">16.2.2.</strong> 3Node Rack Server DIY Guide</a></li></ol></li><li class="chapter-item "><a href="../../farmers/farming_optimization/farming_optimization.html"><strong aria-hidden="true">16.3.</strong> Farming Optimization</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../farmers/farming_optimization/calculate_roi.html"><strong aria-hidden="true">16.3.1.</strong> Calculate Your ROI</a></li><li class="chapter-item "><a href="../../farmers/farming_optimization/farm_room_parameters.html"><strong aria-hidden="true">16.3.2.</strong> Room Parameters</a></li><li class="chapter-item "><a href="../../farmers/farming_optimization/farming_costs.html"><strong aria-hidden="true">16.3.3.</strong> Farming Costs</a></li></ol></li><li class="chapter-item "><a href="../../farmers/threefold_token/threefold_token.html"><strong aria-hidden="true">16.4.</strong> TFT and Farming</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../farmers/threefold_token/tft_facts.html"><strong aria-hidden="true">16.4.1.</strong> TFT Facts</a></li><li class="chapter-item "><a href="../../farmers/threefold_token/storing_tft/storing_tft.html"><strong aria-hidden="true">16.4.2.</strong> Storing TFT</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../farmers/threefold_token/storing_tft/tf_connect_app.html"><strong aria-hidden="true">16.4.2.1.</strong> TF Connect App</a></li><li class="chapter-item "><a href="../../farmers/threefold_token/storing_tft/hardware_wallet.html"><strong aria-hidden="true">16.4.2.2.</strong> Hardware Wallet</a></li></ol></li><li class="chapter-item "><a href="../../farmers/threefold_token/buy_sell_tft/buy_sell_tft.html"><strong aria-hidden="true">16.4.3.</strong> Buy and Sell TFT</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../farmers/threefold_token/buy_sell_tft/set_stellar_address.html"><strong aria-hidden="true">16.4.3.1.</strong> Set a Stellar Address</a></li><li class="chapter-item "><a href="../../getstarted/TF_Token/tft_lobstr/tft_lobstr.html"><strong aria-hidden="true">16.4.3.2.</strong> TFT on Lobstr</a></li><li class="chapter-item "><a href="../../farmers/threefold_token/buy_sell_tft/tft_bridges.html"><strong aria-hidden="true">16.4.3.3.</strong> TFT Bridges</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../farmers/threefold_token/buy_sell_tft/bsc_stellar_bridge.html"><strong aria-hidden="true">16.4.3.3.1.</strong> BSC-Stellar Bridge</a></li><li class="chapter-item "><a href="../../farmers/threefold_token/buy_sell_tft/tfchain_stellar_bridge.html"><strong aria-hidden="true">16.4.3.3.2.</strong> TFChain-Stellar Bridge</a></li><li class="chapter-item "><a href="../../getstarted/TF_Token/tft_ethereum/tft_ethereum.html"><strong aria-hidden="true">16.4.3.3.3.</strong> Ethereum-Stellar Bridge</a></li></ol></li></ol></li></ol></li><li class="chapter-item "><a href="../../farmers/farmerbot/farmerbot.html"><strong aria-hidden="true">16.5.</strong> Farmerbot</a></li><li class="chapter-item "><a href="../../farmers/farmers_faq/farmers_faq.html"><strong aria-hidden="true">16.6.</strong> Farmers FAQ</a></li></ol></li><li class="chapter-item expanded "><a href="../../tf_video_gallery/tf_video_gallery.html"><strong aria-hidden="true">17.</strong> ThreeFold Video Gallery</a></li><li class="chapter-item expanded "><a href="../../tf_mastodon/tf_mastodon_readme.html"><strong aria-hidden="true">18.</strong> ThreeFold Mastodon Server</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../tf_mastodon/tf_mastodon_deploy.html"><strong aria-hidden="true">18.1.</strong> Mastodon Deployer Manual</a></li><li class="chapter-item "><a href="../../tf_mastodon/tf_mastodon_faq.html"><strong aria-hidden="true">18.2.</strong> Frequently Asked Questions</a></li></ol></li><li class="chapter-item expanded "><a href="../../proxy/proxy.html"><strong aria-hidden="true">19.</strong> Grid Proxy</a></li><li class="chapter-item expanded "><a href="../../advanced/advanced.html"><strong aria-hidden="true">20.</strong> Advanced</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../advanced/grid3_stellar_tfchain_bridge.html"><strong aria-hidden="true">20.1.</strong> Grid3 Stellar-TFChain Bridge</a></li><li class="chapter-item "><a href="../../advanced/token_transfer_keygenerator.html"><strong aria-hidden="true">20.2.</strong> Token Transfer Keygenerator</a></li><li class="chapter-item "><a href="../../advanced/cancel_contracts.html"><strong aria-hidden="true">20.3.</strong> Cancel contracts</a></li><li class="chapter-item "><a href="../../advanced/contract_bill_report.html"><strong aria-hidden="true">20.4.</strong> Contract Bills Reports</a></li><li class="chapter-item "><a href="../../advanced/list_public_ips.html"><strong aria-hidden="true">20.5.</strong> Listing Free Public IPs</a></li><li class="chapter-item "><a href="../../advanced/grid3_redis.html"><strong aria-hidden="true">20.6.</strong> Redis</a></li></ol></li><li class="chapter-item expanded "><a href="../../roadmap/roadmap_readme.html"><strong aria-hidden="true">21.</strong> ThreeFold Roadmap</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../roadmap/releasenotes/releasenotes_readme.html"><strong aria-hidden="true">21.1.</strong> Release Notes</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../roadmap/releasenotes/tfgrid_release_3_9_0.html"><strong aria-hidden="true">21.1.1.</strong> TFGrid v3.9.0</a></li><li class="chapter-item "><a href="../../roadmap/releasenotes/tfgrid_release_3_8_0.html"><strong aria-hidden="true">21.1.2.</strong> TFGrid v3.8.0</a></li><li class="chapter-item "><a href="../../roadmap/releasenotes/tfgrid_release_3_7_0.html"><strong aria-hidden="true">21.1.3.</strong> TFGrid v3.7.0</a></li><li class="chapter-item "><a href="../../roadmap/releasenotes/tfgrid_release_3_6_1.html"><strong aria-hidden="true">21.1.4.</strong> TFGrid v3.6.1</a></li><li class="chapter-item "><a href="../../roadmap/releasenotes/tfgrid_release_3_6_0.html"><strong aria-hidden="true">21.1.5.</strong> TFGrid v3.6.0</a></li><li class="chapter-item "><a href="../../roadmap/releasenotes/tfgrid_release_3_0_a5.html"><strong aria-hidden="true">21.1.6.</strong> TFGrid v3.0.0 Alpha-5</a></li><li class="chapter-item "><a href="../../roadmap/releasenotes/tfgrid_release_3_0_a4.html"><strong aria-hidden="true">21.1.7.</strong> TFGrid v3.0.0 Alpha-4</a></li><li class="chapter-item "><a href="../../roadmap/releasenotes/tfgrid_release_3_0_a2.html"><strong aria-hidden="true">21.1.8.</strong> TFGrid v3.0.0 Alpha-2</a></li><li class="chapter-item "><a href="../../roadmap/releasenotes/tfgrid_release_3_0.html"><strong aria-hidden="true">21.1.9.</strong> TFGrid v3.0.0</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="../../tfchain/tfchain.html"><strong aria-hidden="true">22.</strong> ThreeFold Chain</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../tfchain/introduction.html"><strong aria-hidden="true">22.1.</strong> Introduction</a></li><li class="chapter-item "><a href="../../tfchain/farming_policies.html"><strong aria-hidden="true">22.2.</strong> Farming Policies</a></li><li class="chapter-item "><a href="../../tfchain/tfchain_external_service_contract.html"><strong aria-hidden="true">22.3.</strong> External Service Contract</a></li><li class="chapter-item "><a href="../../tfchain/tfchain_solution_provider.html"><strong aria-hidden="true">22.4.</strong> Become a Solution Provider</a></li></ol></li><li class="chapter-item expanded "><a href="../../collaboration_tools/collaboration_tools.html"><strong aria-hidden="true">23.</strong> Collaboration Tools</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../collaboration_tools/circle_tool.html"><strong aria-hidden="true">23.1.</strong> Circle Tool</a></li><li class="chapter-item "><a href="../../collaboration_tools/website_tool.html"><strong aria-hidden="true">23.2.</strong> Website Deployer</a></li></ol></li><li class="chapter-item expanded "><a href="../../contribute/contribute.html"><strong aria-hidden="true">24.</strong> How to Contribute</a></li><li class="chapter-item expanded "><a href="../../testing/testing_readme.html"><strong aria-hidden="true">25.</strong> How to Test</a></li><li class="chapter-item expanded "><a href="../../faq/faq.html"><strong aria-hidden="true">26.</strong> FAQ</a></li><li class="chapter-item expanded "><a href="../../legal/legal.html"><strong aria-hidden="true">27.</strong> Legal</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <p><img src="../advanced/img/terraform_.png" alt=" " /></p>
<h1 id="terraform-caprover"><a class="header" href="#terraform-caprover">Terraform Caprover</a></h1>
<h3 id="what-is-caprover"><a class="header" href="#what-is-caprover">What is CapRover?</a></h3>
<p><a href="https://caprover.com/">CapRover</a> is an easy-to-use app/database deployment and web server manager that works for a variety of applications such as Node.js, Ruby, PHP, Postgres, and MongoDB. It runs fast and is very robust, as it uses Docker, Nginx, LetsEncrypt, and NetData under the hood behind its user-friendly interface.
Here’s a link to CapRover's open source repository on <a href="https://github.com/caprover/caprover">GitHub</a>.</p>
<h3 id="features-of-caprover"><a class="header" href="#features-of-caprover">Features of Caprover:</a></h3>
<ul>
<li>CLI for automation and scripting</li>
<li>Web GUI for ease of access and convenience</li>
<li>No lock-in: Remove CapRover and your apps keep working !</li>
<li>Docker Swarm under the hood for containerization and clustering.</li>
<li>Nginx (fully customizable template) under the hood for load-balancing.</li>
<li>Let’s Encrypt under the hood for free SSL (HTTPS).</li>
<li><strong>One-Click Apps</strong> : Deploying one-click apps is a matter of seconds! MongoDB, Parse, MySQL, WordPress, Postgres and many more.</li>
<li><strong>Fully Customizable</strong> : Optionally fully customizable nginx config allowing you to enable HTTP2, specific caching logic, custom SSL certs and etc.</li>
<li><strong>Cluster Ready</strong> : Attach more nodes and create a cluster in seconds! CapRover automatically configures nginx to load balance.</li>
<li><strong>Increase Productivity</strong> : Focus on your apps ! Not the bells and whistles, just to run your apps.</li>
<li><strong>Easy Deploy</strong> : Many ways to deploy. You can upload your source from dashboard, use command line caprover deploy, use webhooks and build upon git push</li>
</ul>
<h3 id="pre-requisites"><a class="header" href="#pre-requisites">Pre-requisites</a></h3>
<ul>
<li>Domain Name:
after installation, you will need to point a wildcard DNS entry to your CapRover IP Address.
Note that you can use CapRover without a domain too. But you won't be able to setup HTTPS or add <code>Self hosted Docker Registry</code>.</li>
<li>TerraForm installed to provision, adjust and tear down infrastructure using the tf configuration files provided here.</li>
<li>Yggdrasil installed and enabled for End-to-end encrypted IPv6 networking.</li>
<li>account created on <a href="https://polkadot.js.org/apps/?rpc=wss://tfchain.dev.threefold.io/ws#/accounts">Polkadot</a> and got an twin id, and saved you mnemonics.</li>
<li>TFTs in your account balance (in development, Transferer some test TFTs from ALICE account).</li>
</ul>
<h3 id="how-to-run-caprover-on-threefold-grid-3"><a class="header" href="#how-to-run-caprover-on-threefold-grid-3">How to run CapRover on ThreeFold Grid 3:</a></h3>
<p>In this guide, we will use Caprover to setup your own private Platform as a service (PaaS) on TFGrid 3 infrastructure.</p>
<h4 id="clone-the-project-repo"><a class="header" href="#clone-the-project-repo">Clone the project repo</a></h4>
<pre><code class="language-sh">git clone https://github.com/freeflowuniverse/freeflow_caprover.git
</code></pre>
<h4 id="a-leader-node-deploymentsetup"><a class="header" href="#a-leader-node-deploymentsetup">A) leader node deployment/setup:</a></h4>
<h5 id="step-1-deploy-a-leader-node"><a class="header" href="#step-1-deploy-a-leader-node">step 1: Deploy a Leader Node</a></h5>
<p>Create a leader caprover node using terraform, here's an example :</p>
<pre><code>terraform {
  required_providers {
    grid = {
      source = &quot;threefoldtech/grid&quot;
    }
  }
}

provider &quot;grid&quot; {
    mnemonics = &quot;&lt;your-mnemonics&gt;&quot;
    network = &quot;dev&quot; # or test to use testnet
}

resource &quot;grid_network&quot; &quot;net0&quot; {
    nodes = [4]
    ip_range = &quot;10.1.0.0/16&quot;
    name = &quot;network&quot;
    description = &quot;newer network&quot;
    add_wg_access = true
}

resource &quot;grid_deployment&quot; &quot;d0&quot; {
  node = 4
  network_name = grid_network.net0.name
  ip_range = lookup(grid_network.net0.nodes_ip_range, 4, &quot;&quot;)
  disks {
    name        = &quot;data0&quot;
    # will hold images, volumes etc. modify the size according to your needs
    size        = 20
    description = &quot;volume holding docker data&quot;
  }
  disks {
    name        = &quot;data1&quot;
    # will hold data reltaed to caprover conf, nginx stuff, lets encrypt stuff.
    size        = 5
    description = &quot;volume holding captain data&quot;
  }

  vms {
    name = &quot;caprover&quot;
    flist = &quot;https://hub.grid.tf/samehabouelsaad.3bot/abouelsaad-caprover-tf_10.0.1_v1.0.flist&quot;
    # modify the cores according to your needs
    cpu = 4
    publicip = true
    # modify the memory according to your needs
    memory = 8192
    entrypoint = &quot;/sbin/zinit init&quot;
    mounts {
      disk_name   = &quot;data0&quot;
      mount_point = &quot;/var/lib/docker&quot;
    }
    mounts {
      disk_name   = &quot;data1&quot;
      mount_point = &quot;/captain&quot;
    }
    env_vars = {
      &quot;PUBLIC_KEY&quot; = &quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC9MI7fh4xEOOEKL7PvLvXmSeRWesToj6E26bbDASvlZnyzlSKFLuYRpnVjkr8JcuWKZP6RQn8+2aRs6Owyx7Tx+9kmEh7WI5fol0JNDn1D0gjp4XtGnqnON7d0d5oFI+EjQQwgCZwvg0PnV/2DYoH4GJ6KPCclPz4a6eXrblCLA2CHTzghDgyj2x5B4vB3rtoI/GAYYNqxB7REngOG6hct8vdtSndeY1sxuRoBnophf7MPHklRQ6EG2GxQVzAOsBgGHWSJPsXQkxbs8am0C9uEDL+BJuSyFbc/fSRKptU1UmS18kdEjRgGNoQD7D+Maxh1EbmudYqKW92TVgdxXWTQv1b1+3dG5+9g+hIWkbKZCBcfMe4nA5H7qerLvoFWLl6dKhayt1xx5mv8XhXCpEC22/XHxhRBHBaWwSSI+QPOCvs4cdrn4sQU+EXsy7+T7FIXPeWiC2jhFd6j8WIHAv6/rRPsiwV1dobzZOrCxTOnrqPB+756t7ANxuktsVlAZaM= sameh@sameh-inspiron-3576&quot;
    # SWM_NODE_MODE env var is required, should be &quot;leader&quot; or &quot;worker&quot;
    # leader: will run sshd, containerd, dockerd as zinit services plus caprover service in leader mode which start caprover, lets encrypt, nginx containers.
    # worker: will run sshd, containerd, dockerd as zinit services plus caprover service in orker mode which only join the swarm cluster. check the wroker terrafrom file example.
      &quot;SWM_NODE_MODE&quot; = &quot;leader&quot;
    # CAPROVER_ROOT_DOMAIN is optional env var, by providing it you can access the captain dashboard after vm initilization by visiting http://captain.your-root-domain
    # otherwise you will have to add the root domain manually from the captain dashboard by visiting http://{publicip}:3000 to access the dashboard
      &quot;CAPROVER_ROOT_DOMAIN&quot; = &quot;roverapps.grid.tf&quot;
   }
  }
}

output &quot;wg_config&quot; {
    value = grid_network.net0.access_wg_config
}
output &quot;ygg_ip&quot; {
    value = grid_deployment.d0.vms[0].ygg_ip
}
output &quot;vm_ip&quot; {
    value = grid_deployment.d0.vms[0].ip
}
output &quot;vm_public_ip&quot; {
    value = grid_deployment.d0.vms[0].computedip
}
</code></pre>
<pre><code class="language-bash">cd freeflow_caprover/terraform/leader/
vim main.tf
</code></pre>
<ul>
<li>
<p>In <code>provider</code> Block, add your <code>mnemonics</code> and specify the grid network to deploy on.</p>
</li>
<li>
<p>In <code>resource</code> Block, update the disks size, memory size, and cores number to fit your needs or leave as it is for testing.</p>
</li>
<li>
<p>In the <code>PUBLIC_KEY</code> env var value put your ssh public key .</p>
</li>
<li>
<p>In the <code>CAPROVER_ROOT_DOMAIN</code> env var value put your root domain, this is optional and you can add it later from the dashboard put it will save you the extra step and allow you to access your dashboard using your domain name directly after the deployment.</p>
</li>
<li>
<p>save the file, and execute the following commands:</p>
<pre><code class="language-bash">terraform init
terraform apply
</code></pre>
</li>
<li>
<p>wait till you see <code>apply complete</code>, and note the VM public ip in the final output.</p>
</li>
<li>
<p>verify the status of the VM</p>
<pre><code class="language-bash">ssh root@{public_ip_address}
zinit list
zinit log caprover
</code></pre>
<p>You will see output like this:</p>
<pre><code class="language-bash">root@caprover:~ # zinit list
sshd: Running
containerd: Running
dockerd: Running
sshd-init: Success
caprover: Running
root@caprover:~ # zinit log caprover
[+] caprover: CapRover Root Domain: newapps.grid.tf
[+] caprover: {
[+] caprover:             &quot;namespace&quot;: &quot;captain&quot;,
[+] caprover:             &quot;customDomain&quot;: &quot;newapps.grid.tf&quot;
[+] caprover:     }
[+] caprover: CapRover will be available at http://captain.newapps.grid.    tf after installation
[-] caprover: docker: Cannot connect to the Docker daemon at unix:///var/   run/docker.sock. Is the docker daemon running?.
[-] caprover: See 'docker run --help'.
[-] caprover: Unable to find image 'caprover/caprover:latest' locally
[-] caprover: latest: Pulling from caprover/caprover
[-] caprover: af4c2580c6c3: Pulling fs layer
[-] caprover: 4ea40d27a2cf: Pulling fs layer
[-] caprover: 523d612e9cd2: Pulling fs layer
[-] caprover: 8fee6a1847b0: Pulling fs layer
[-] caprover: 60cce3519052: Pulling fs layer
[-] caprover: 4bae1011637c: Pulling fs layer
[-] caprover: ecf48b6c1f43: Pulling fs layer
[-] caprover: 856f69196742: Pulling fs layer
[-] caprover: e86a512b6f8c: Pulling fs layer
[-] caprover: cecbd06d956f: Pulling fs layer
[-] caprover: cdd679ff24b0: Pulling fs layer
[-] caprover: d60abbe06609: Pulling fs layer
[-] caprover: 0ac0240c1a59: Pulling fs layer
[-] caprover: 52d300ad83da: Pulling fs layer
[-] caprover: 8fee6a1847b0: Waiting
[-] caprover: e86a512b6f8c: Waiting
[-] caprover: 60cce3519052: Waiting
[-] caprover: cecbd06d956f: Waiting
[-] caprover: cdd679ff24b0: Waiting
[-] caprover: 4bae1011637c: Waiting
[-] caprover: d60abbe06609: Waiting
[-] caprover: 0ac0240c1a59: Waiting
[-] caprover: 52d300ad83da: Waiting
[-] caprover: 856f69196742: Waiting
[-] caprover: ecf48b6c1f43: Waiting
[-] caprover: 523d612e9cd2: Verifying Checksum
[-] caprover: 523d612e9cd2: Download complete
[-] caprover: 4ea40d27a2cf: Verifying Checksum
[-] caprover: 4ea40d27a2cf: Download complete
[-] caprover: af4c2580c6c3: Verifying Checksum
[-] caprover: af4c2580c6c3: Download complete
[-] caprover: 4bae1011637c: Verifying Checksum
[-] caprover: 4bae1011637c: Download complete
[-] caprover: 8fee6a1847b0: Verifying Checksum
[-] caprover: 8fee6a1847b0: Download complete
[-] caprover: 856f69196742: Verifying Checksum
[-] caprover: 856f69196742: Download complete
[-] caprover: ecf48b6c1f43: Verifying Checksum
[-] caprover: ecf48b6c1f43: Download complete
[-] caprover: e86a512b6f8c: Verifying Checksum
[-] caprover: e86a512b6f8c: Download complete
[-] caprover: cdd679ff24b0: Verifying Checksum
[-] caprover: cdd679ff24b0: Download complete
[-] caprover: d60abbe06609: Verifying Checksum
[-] caprover: d60abbe06609: Download complete
[-] caprover: cecbd06d956f: Download complete
[-] caprover: 0ac0240c1a59: Verifying Checksum
[-] caprover: 0ac0240c1a59: Download complete
[-] caprover: 60cce3519052: Verifying Checksum
[-] caprover: 60cce3519052: Download complete
[-] caprover: af4c2580c6c3: Pull complete
[-] caprover: 52d300ad83da: Download complete
[-] caprover: 4ea40d27a2cf: Pull complete
[-] caprover: 523d612e9cd2: Pull complete
[-] caprover: 8fee6a1847b0: Pull complete
[-] caprover: 60cce3519052: Pull complete
[-] caprover: 4bae1011637c: Pull complete
[-] caprover: ecf48b6c1f43: Pull complete
[-] caprover: 856f69196742: Pull complete
[-] caprover: e86a512b6f8c: Pull complete
[-] caprover: cecbd06d956f: Pull complete
[-] caprover: cdd679ff24b0: Pull complete
[-] caprover: d60abbe06609: Pull complete
[-] caprover: 0ac0240c1a59: Pull complete
[-] caprover: 52d300ad83da: Pull complete
[-] caprover: Digest:   sha256:39c3f188a8f425775cfbcdc4125706cdf614cd38415244ccf967cd1a4e692b4f
[-] caprover: Status: Downloaded newer image for caprover/caprover:latest
[+] caprover: Captain Starting ...
[+] caprover: Overriding skipVerifyingDomains from /captain/data/   config-override.json
[+] caprover: Installing Captain Service ...
[+] caprover:
[+] caprover:  Installation of CapRover is starting...
[+] caprover: For troubleshooting, please see: https://caprover.com/docs/   troubleshooting.html
[+] caprover:
[+] caprover:
[+] caprover:
[+] caprover:
[+] caprover:
[+] caprover:  &gt;&gt;&gt; Checking System Compatibility &lt;&lt;&lt;
[+] caprover:    Docker Version passed.
[+] caprover:    Ubuntu detected.
[+] caprover:    X86 CPU detected.
[+] caprover:    Total RAM 8339 MB
[+] caprover: Pulling: nginx:1
[+] caprover: Pulling: caprover/caprover-placeholder-app:latest
[+] caprover: Pulling: caprover/certbot-sleeping:v1.6.0
[+] caprover: October 12th 2021, 12:49:26.301 pm    Fresh installation!
[+] caprover: October 12th 2021, 12:49:26.309 pm    Starting swarm at   185.206.122.32:2377
[+] caprover: Swarm started: z06ymksbcoren9cl7g2xzw9so
[+] caprover: *** CapRover is initializing ***
[+] caprover: Please wait at least 60 seconds before trying to access   CapRover.
[+] caprover: ===================================
[+] caprover:  **** Installation is done! *****
[+] caprover: CapRover is available at http://captain.newapps.grid.tf
[+] caprover: Default password is: captain42
[+] caprover: ===================================
</code></pre>
<p>Wait until you see *<strong>* Installation is done! ***</strong> in the caprover service log.</p>
</li>
</ul>
<h5 id="step-2-connect-root-domain"><a class="header" href="#step-2-connect-root-domain">Step 2: Connect Root Domain</a></h5>
<p>After the container runs, you will now need to connect your CapRover instance to a Root Domain.</p>
<p>Let’s say you own example.com. You can set *.something.example.com as an A-record in your DNS settings to point to the IP address of the server where you installed CapRover. To do this, go to the DNS settings in your domain provider website, and set a wild card A record entry.</p>
<p>For example: Type: A, Name (or host): *.something.example.com, IP (or Points to): <code>110.122.131.141</code> where this is the IP address of your CapRover machine.</p>
<pre><code class="language-yaml">TYPE: A record
HOST: \*.something.example.com
POINTS TO: (IP Address of your server)
TTL: (doesn’t really matter)
</code></pre>
<p>To confirm, go to https://mxtoolbox.com/DNSLookup.aspx and enter <code>somethingrandom.something.example.com</code> and check if IP address resolves to the IP you set in your DNS.</p>
<h6 id="note"><a class="header" href="#note">Note</a></h6>
<p><code>somethingrandom</code> is needed because you set a wildcard entry in your DNS by setting <code>*.something.example.com</code> as your host, not <code>something.example.com</code>.</p>
<h5 id="step-3-caprover-root-domain-configurations"><a class="header" href="#step-3-caprover-root-domain-configurations">Step 3: CapRover Root Domain Configurations</a></h5>
<p>skip this step if you provided your root domain in the TerraFrom configuration file</p>
<p>Once the CapRover is initialized, you can visit <code>http://[IP_OF_YOUR_SERVER]:3000</code> in your browser and login to CapRover using the default password <code>captain42</code>. You can change your password later.</p>
<p>In the UI enter you root domain and press Update Domain button.</p>
<h5 id="step-4-access-the-captain-dashboard"><a class="header" href="#step-4-access-the-captain-dashboard">Step 4: Access the Captain Dashboard</a></h5>
<p>Once you set your root domain as caprover.example.com, you will be redirected to captain.caprover.example.com.</p>
<p>Now CapRover is ready and running in a single node.</p>
<h6 id="to-allow-cluster-mode"><a class="header" href="#to-allow-cluster-mode">To allow cluster mode</a></h6>
<ul>
<li>
<p>Enable HTTPS</p>
<ul>
<li>Go to CapRover <code>Dashboard</code> tab, then in <code>CapRover Root Domain Configurations</code> press on <code>Enable HTTPS</code> then you will asked to enter your email address</li>
</ul>
</li>
<li>
<p>Docker Registry Configuration</p>
<ul>
<li>Go to CapRover <code>Cluster</code> tab, then in <code>Docker Registry Configuration</code> section, press on <code>Self hosted Docker Registry</code> or add your <code>Remote Docker Registry</code></li>
</ul>
</li>
<li>
<p>Run the following command in the ssh session:</p>
<pre><code class="language-bash">    docker swarm join-token worker
</code></pre>
<p>It will output something like this:</p>
<pre><code class="language-bash">docker swarm join --token   SWMTKN-1-0892ds1ney7pa0hymi3qwph7why1d9r3z6bvwtin51r14hcz3t-cjsephnu4f2ez fpdd6svnnbq7 185.206.122.33:2377
</code></pre>
</li>
<li>
<p>To add a worker node to this swarm, you need:</p>
<ul>
<li>Generated token <code>SWMTKN-1-0892ds1ney7pa0hymi3qwph7why1d9r3z6bvwtin51r14hcz3t-cjsephnu4f2ezfpdd6svnnbq7</code></li>
<li>Leader node public ip <code>185.206.122.33</code></li>
</ul>
</li>
</ul>
<p>This information is required in the next section to run CapRover in cluster mode.</p>
<h4 id="b-worker-node-deploymentsetup"><a class="header" href="#b-worker-node-deploymentsetup">B) Worker Node Deployment/setup:</a></h4>
<h5 id="step-1-deploy-a-worker-node"><a class="header" href="#step-1-deploy-a-worker-node">Step 1: Deploy a Worker Node</a></h5>
<p>example worker terraform file</p>
<pre><code>terraform {
  required_providers {
    grid = {
      source = &quot;threefoldtech/grid&quot;
    }
  }
}

provider &quot;grid&quot; {
    mnemonics = &quot;&lt;your-mnemonics&gt;&quot;
    network = &quot;dev&quot; # or test to use testnet
}

resource &quot;grid_network&quot; &quot;net2&quot; {
    nodes = [4]
    ip_range = &quot;10.1.0.0/16&quot;
    name = &quot;network&quot;
    description = &quot;newer network&quot;
}

resource &quot;grid_deployment&quot; &quot;d2&quot; {
  node = 4
  network_name = grid_network.net2.name
  ip_range = lookup(grid_network.net2.nodes_ip_range, 4, &quot;&quot;)
  disks {
    name        = &quot;data2&quot;
    # will hold images, volumes etc. modify the size according to your needs
    size        = 20
    description = &quot;volume holding docker data&quot;
  }

  vms {
    name = &quot;caprover&quot;
    flist = &quot;https://hub.grid.tf/samehabouelsaad.3bot/abouelsaad-caprover-tf_10.0.1_v1.0.flist&quot;
    # modify the cores according to your needs
    cpu = 2
    publicip = true
    # modify the memory according to your needs
    memory = 2048
    entrypoint = &quot;/sbin/zinit init&quot;
    mounts {
      disk_name   = &quot;data2&quot;
      mount_point = &quot;/var/lib/docker&quot;
    }
    env_vars = {
      &quot;PUBLIC_KEY&quot; = &quot;ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC9MI7fh4xEOOEKL7PvLvXmSeRWesToj6E26bbDASvlZnyzlSKFLuYRpnVjkr8JcuWKZP6RQn8+2aRs6Owyx7Tx+9kmEh7WI5fol0JNDn1D0gjp4XtGnqnON7d0d5oFI+EjQQwgCZwvg0PnV/2DYoH4GJ6KPCclPz4a6eXrblCLA2CHTzghDgyj2x5B4vB3rtoI/GAYYNqxB7REngOG6hct8vdtSndeY1sxuRoBnophf7MPHklRQ6EG2GxQVzAOsBgGHWSJPsXQkxbs8am0C9uEDL+BJuSyFbc/fSRKptU1UmS18kdEjRgGNoQD7D+Maxh1EbmudYqKW92TVgdxXWTQv1b1+3dG5+9g+hIWkbKZCBcfMe4nA5H7qerLvoFWLl6dKhayt1xx5mv8XhXCpEC22/XHxhRBHBaWwSSI+QPOCvs4cdrn4sQU+EXsy7+T7FIXPeWiC2jhFd6j8WIHAv6/rRPsiwV1dobzZOrCxTOnrqPB+756t7ANxuktsVlAZaM= sameh@sameh-inspiron-3576&quot;
    }
    # SWM_NODE_MODE env var is required, should be &quot;leader&quot; or &quot;worker&quot;
    # leader: check the wroker terrafrom file example.
    # worker: will run sshd, containerd, dockerd as zinit services plus caprover service in orker mode which only join the swarm cluster.

      &quot;SWM_NODE_MODE&quot; = &quot;worker&quot;
    # from the leader node (the one running caprover) run `docker swarm join-token worker`
    # you must add the generated token to SWMTKN env var and the leader public ip to LEADER_PUBLIC_IP env var

      &quot;SWMTKN&quot;=&quot;SWMTKN-1-522cdsyhknmavpdok4wi86r1nihsnipioc9hzfw9dnsvaj5bed-8clrf4f2002f9wziabyxzz32d&quot;
    &quot;LEADER_PUBLIC_IP&quot; = &quot;185.206.122.38&quot;

  }
}

output &quot;wg_config&quot; {
    value = grid_network.net2.access_wg_config
}
output &quot;ygg_ip&quot; {
    value = grid_deployment.d2.vms[0].ygg_ip
}
output &quot;vm_ip&quot; {
    value = grid_deployment.d2.vms[0].ip
}
output &quot;vm_public_ip&quot; {
    value = grid_deployment.d2.vms[0].computedip
}
</code></pre>
<pre><code class="language-bash">cd freeflow_caprover/terraform/worker/
vim main.tf
</code></pre>
<ul>
<li>
<p>In <code>provider</code> Block, add your <code>mnemonics</code> and specify the grid network to deploy on.</p>
</li>
<li>
<p>In <code>resource</code> Block, update the disks size, memory size, and cores number to fit your needs or leave as it is for testing.</p>
</li>
<li>
<p>In the <code>PUBLIC_KEY</code> env var value put your ssh public key.</p>
</li>
<li>
<p>In the <code>SWMTKN</code> env var value put the previously generated token.</p>
</li>
<li>
<p>In the <code>LEADER_PUBLIC_IP</code> env var value put the leader node public ip.</p>
</li>
<li>
<p>Save the file, and execute the following commands:</p>
<pre><code class="language-bash">terraform init
terraform apply
</code></pre>
</li>
<li>
<p>Wait till you see <code>apply complete</code>, and note the VM public ip in the final output.</p>
</li>
<li>
<p>Verify the status of the VM.</p>
<pre><code class="language-bash">ssh root@{public_ip_address}
zinit list
zinit log caprover
</code></pre>
<p>You will see output like this:</p>
<pre><code class="language-bash">root@caprover:~# zinit list
caprover: Success
dockerd: Running
containerd: Running
sshd: Running
sshd-init: Success
root@caprover:~# zinit log caprover
[-] caprover: Cannot connect to the Docker daemon at unix:///var/run/   docker.sock. Is the docker daemon running?
[+] caprover: This node joined a swarm as a worker.
</code></pre>
</li>
</ul>
<p>This means that your worker node is now ready and have joined the cluster successfully.</p>
<p>You can also verify this from CapRover dashboard in <code>Cluster</code> tab. Check <code>Nodes</code> section, you should be able to see the new worker node added there.</p>
<p>Now CapRover is ready in cluster mode (more than one server).</p>
<p>To run One-Click Apps please follow this <a href="https://caprover.com/docs/one-click-apps.html">tutorial</a></p>
<h3 id="implementations-details"><a class="header" href="#implementations-details">Implementations Details:</a></h3>
<ul>
<li>
<p>we use Ubuntu 18.04 to minimize the production issues as CapRover is tested on Ubuntu 18.04 and Docker 19.03.</p>
</li>
<li>
<p>In standard installation, CapRover has to be installed on a machine with a public IP address.</p>
</li>
<li>
<p>Services are managed by <code>Zinit</code> service manager to bring these processes up and running in case of any failure:</p>
<ul>
<li>sshd-init : service used to add user public key in vm ssh authorized keys (it run once).</li>
<li>containerd: service to maintain container runtime needed by docker.</li>
<li>caprover: service to run caprover container(it run once).</li>
<li>dockerd: service to run docker daemon.</li>
<li>sshd: service to maintain ssh server daemon.</li>
</ul>
</li>
<li>
<p>we adjusting the OOM priority on the Docker daemon so that it is less likely to be killed than other processes on the system</p>
<pre><code class="language-bash">echo -500 &gt;/proc/self/oom_score_adj
</code></pre>
</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../terraform/resources/terraform_qsfs.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../terraform/advanced/terraform_advanced_readme.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../terraform/resources/terraform_qsfs.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../terraform/advanced/terraform_advanced_readme.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
